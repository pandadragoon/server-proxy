{"version":3,"sources":["common/images/logo.png","features/home/components/HomePageHeader.js","features/home/components/HomePageBanner.js","common/constants/networking.js","common/utils/awaitHandler.js","common/services/httpService.js","common/components/core/CardImage.js","common/components/core/CardBody.js","common/components/core/CardHeader.js","common/components/core/Card.js","features/home/components/RecipeCard.js","features/home/components/RecipeCardList.js","features/home/containers/HomePage.js","common/hooks/useGetRecipes.js","App.js","reportWebVitals.js","index.js"],"names":["HomePageHeader","title","subtitle","HomePageBanner","className","src","logo","alt","parse","strings","values","paths","url","config","map","str","idx","parsedStr","length","join","urls","API","RANDOM_RECIPE","SEARCH_RECIPE","APPLICATION","HOME","RECIPE_DETAILS","on","promise","errorProps","then","data","catch","err","Object","assign","undefined","instance","Axios","create","baseURL","getResourceAll","a","calls","loading","error","resource","repeatCalls","previousValue","skipUpdate","requestList","request","i","push","get","path","forEach","all","res","errorResponse","handleError","responseList","r","meals","resourceResponse","handleResourceUpdate","response","CardImage","DefaultContainer","children","CardBody","contentText","contentTitle","Container","contentContainer","CardBodyContainer","CardHeader","Card","image","header","body","RecipeCard","RecipeCardList","recipes","recipe","strMealThumb","strMeal","idMeal","HomePage","derp","useState","setLoading","resources","setResources","setError","useEffect","getRecipes","fetchRecipes","useGetRecipes","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8PAAe,MAA0B,iC,OCgB1BA,MAbR,YAA4C,IAAnBC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,SACrC,OACE,+BACGD,EACD,+BAAOC,QCHE,SAASC,IACtB,OACE,0BAASC,UAAW,mBAApB,UACE,qBAAKC,IAAKC,EAAMC,IAAK,4BACrB,cAAC,EAAD,CAAgBN,MAAO,0B,kECNvBO,EAAQ,SAACC,GAAuB,IAAD,uBAAVC,EAAU,iCAAVA,EAAU,kBACnC,MAAO,CAACD,EAASC,IAGNC,EAAQ,SAACC,EAAKC,GAAY,IAAD,cACVD,EADU,GAC7BH,EAD6B,KACpBC,EADoB,KAEpC,OAAOD,EACJK,KAAK,SAACC,EAAKC,GACV,IAAIC,EAAYF,EAMhB,OAJGF,IACDI,EAAYF,EAAIG,OAASD,EAAYJ,EAAOH,EAAOM,IAAQ,IAGtDC,KAERE,KAAK,KAGGC,EAAO,CAClBC,IAAK,CACHC,cAAed,EAAF,iCACbe,cAAef,EAAF,sCAAoB,eAEnCgB,YAAa,CACXC,KAAMjB,EAAF,2BACJkB,eAAgBlB,EAAF,qCAAmB,cC5B9B,SAASmB,EAAGC,EAASC,GAC1B,OAAOD,EACJE,MAAK,SAAAC,GACJ,MAAO,CAAC,KAAMA,MAEfC,OAAM,SAAAC,GAEL,OADIJ,GAAYK,OAAOC,OAAOF,EAAKJ,GAC5B,CAACI,OAAKG,MCHnB,IAAIC,EAAWC,IAAMC,OAAO,CAC1BC,QFLqB,SEoCVC,EAAc,uCAAG,6DAAAC,EAAA,sDAK5B,GALoCC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QAASC,EAAxB,EAAwBA,MAAOC,EAA/B,EAA+BA,SAAUC,EAAzC,EAAyCA,YAAaC,EAAtD,EAAsDA,cAAeC,EAArE,EAAqEA,WAE7FC,EAAc,GAClBN,GAAQ,GAELG,EAED,IADMI,EAAUR,EAAM,GACdS,EAAI,EAAGA,EAAIL,EAAaK,IAC9BF,EAAYG,KAAKhB,EAASiB,IAAIH,EAAQI,KAAMJ,EAAQtC,QAAU,UAGhE8B,EAAMa,SAAQ,SAAAL,GAAO,OAAID,EAAYG,KAAKhB,EAASiB,IAAIH,EAAQI,KAAMJ,EAAQtC,QAAU,QAX7D,gBAcHc,EAAGW,IAAMmB,IAAIP,IAdV,sCAcrBjB,EAdqB,KAchByB,EAdgB,KAgBtBC,EAAgBC,EAAY,CAAE3B,MAAKY,UACnCgB,EAAeH,EAAI5C,KAAI,SAAAgD,GAAC,OAAIA,EAAE/B,KAAKgC,MAAM,MAE3ChB,EAnBwB,wBAoB1BH,GAAQ,GApBkB,kBAqBnB,CAACe,EAAeE,IArBG,eAwBtBG,EAAmBC,EAAqB,CAC5CjB,gBACAf,MACAiC,SAAU,CAACnC,KAAM8B,GACjBf,WACAG,eAGFL,GAAQ,GAhCoB,kBAkCrB,CAACe,EAAeK,IAlCK,4CAAH,sDAqCrBJ,EAAc,SAAC,GAAoB,IAAlB3B,EAAiB,EAAjBA,IAAKY,EAAY,EAAZA,MACpBc,EAAa,OAAG1B,QAAH,IAAGA,OAAH,EAAGA,EAAKiC,SAG3B,OAFArB,EAAMc,GAECA,GAGHM,EAAuB,SAAC,GAMvB,IALLjB,EAKI,EALJA,cACAf,EAII,EAJJA,IACAiC,EAGI,EAHJA,SACApB,EAEI,EAFJA,SAIMkB,GAFF,EADJf,WAGyBhB,EAAMe,EAAH,OAAoBkB,QAApB,IAAoBA,OAApB,EAAoBA,EAAUnC,MAI1D,OAFAe,EAASkB,GAEFA,G,WC5EMG,MAbR,YAAgC,IAAZ9D,EAAW,EAAXA,IAAKE,EAAM,EAANA,IAC9B,OACE,qBAAKH,UAAU,aAAf,SACE,qBAAKC,IAAKA,EAAKE,IAAKA,OCY1B,SAAS6D,EAAT,GAAsC,IAAXC,EAAU,EAAVA,SACzB,OACE,yBAASjE,UAAW,YAApB,SACGiE,IAYQC,MA9BR,YAAuF,IAApEC,EAAmE,EAAnEA,YAAaC,EAAsD,EAAtDA,aAAgCC,EAAsB,EAAxCC,iBAA6BL,EAAW,EAAXA,SAC1EM,EAAoBF,GAAwBL,EAClD,OACE,eAACO,EAAD,WACE,iCACGH,IAEH,4BACGD,IAEDF,MCQOO,MAlBR,YAAkD,IAA7B3E,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,SAAUmE,EAAW,EAAXA,SAC3C,OACE,yBAAQjE,UAAW,cAAnB,UACE,+BACGH,EACD,+BAAOC,OAERmE,MC8BQQ,MAjCR,YAAgD,IAAjCC,EAAgC,EAAhCA,MAAOC,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,KAAMX,EAAW,EAAXA,SACzC,OACE,0BAASjE,UAAW,OAApB,UACG0E,EACC,cAAC,EAAD,eAAeA,IACb,KACFC,EACA,cAAC,EAAD,eAAgBA,IACd,KACJ,cAAC,EAAD,2BAAcC,GAAd,aACGX,S,MCQMY,MAlBR,YAAqC,IAAhBhF,EAAe,EAAfA,MAAO6E,EAAQ,EAARA,MACjC,OACE,qBAAK1E,UAAU,cAAf,SACE,eAAC,EAAD,WACE,cAAC,EAAD,CAAYH,MAAOA,IACnB,cAAC,EAAD,eAAe6E,UCURI,MAlBR,YAAyC,IAAD,IAAfC,eAAe,MAAL,GAAK,EAC7C,OACE,8BACIA,EAAQrE,KAAI,SAAAsE,GACZ,IAAMN,EAAQ,CACZzE,IAAK+E,EAAOC,aACZ9E,IAAK6E,EAAOE,SAEd,OAAO,cAAC,EAAD,CAAYR,MAAOA,EAAO7E,MAAOmF,EAAOE,SAAcF,EAAOG,cCgB7DC,MAtBR,WACL,IAAMC,ECHO,WAA0B,IAAD,EACRC,oBAAS,GADD,mBAC/B9C,EAD+B,KACtB+C,EADsB,OAEJD,mBAAS,IAFL,mBAE/BE,EAF+B,KAEpBC,EAFoB,OAGZH,wBAAStD,GAHG,mBAG/BS,EAH+B,KAGxBiD,EAHwB,KAwBtC,OAnBAC,qBAAU,WACR,IAAMC,EAAU,uCAAG,sBAAAtD,EAAA,sEACJD,EAAe,CAC1BE,MAAO,CAAC,CAAEY,KAAO5C,EAAMS,EAAKC,IAAIC,iBAChCyB,YAAa,EACbC,cAAe4C,EACf/C,MAAOiD,EACPlD,QAAS+C,EACT7C,SAAU+C,IAPK,mFAAH,sDAWE,uCAAG,sBAAAnD,EAAA,sEACbsD,IADa,2CAAH,oDAIlBC,KACC,IAEI,CACLrD,UACAgD,YACA/C,QACAgD,eACAC,WACAH,cD3BWO,GACNtD,EAAkB6C,EAAlB7C,QAASC,EAAS4C,EAAT5C,MAEhB,OACE,uBAAMzC,UAAU,YAAhB,UACE,cAACD,EAAD,IACA,8BACG0C,EACC,qEACE,OAEJD,EACE,4CAEA,cAAC,EAAD,CAAgBuC,QAASM,EAAKG,gBEPzBO,MAVf,WACE,OACE,qBAAK/F,UAAU,MAAf,SACE,cAAC,IAAD,UACE,cAAC,EAAD,CAAUmD,KAAM,WCIT6C,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBxE,MAAK,YAAkD,IAA/CyE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.b69498c3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.45b79692.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport function HomePageHeader({title, subtitle}) {\n  return (\n    <h1>\n      {title}\n      <span>{subtitle}</span>\n    </h1>\n  )\n}\n\nHomePageHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n  subtitle: PropTypes.string\n};\nexport default HomePageHeader;\n","import React from 'react'\nimport logo from \"common/images/logo.png\";\nimport HomePageHeader from './HomePageHeader';\n\nexport default function HomePageBanner() {\n  return (\n    <section className={'home-page-banner'}>\n      <img src={logo} alt={\"Recipes of the day logo\"} />\n      <HomePageHeader title={'Recipes of the Day'} />\n    </section>\n  )\n}\n","export const API_URL = '/api';\n\nconst parse = (strings, ...values)=> {\n  return [strings, values];\n}\n\nexport const paths = (url, config) => {\n  const [strings, values] = url;\n  return strings\n    .map( (str, idx)=> {\n      let parsedStr = str;\n\n      if(config){\n        parsedStr = str.length ? parsedStr + config[values[idx]] : ''\n      }\n      \n      return parsedStr\n    })\n    .join('');\n}\n\nexport const urls = {\n  API: {\n    RANDOM_RECIPE: parse`/random`,\n    SEARCH_RECIPE: parse`/search?s=${'searchTerm'}`\n  },\n  APPLICATION: {\n    HOME: parse`/`,\n    RECIPE_DETAILS: parse`/recipes/${'recipeId'}`\n  }\n}\n\n","export function on(promise, errorProps) {\n  return promise\n    .then(data => {\n      return [null, data];\n    })\n    .catch(err => {\n      if (errorProps) Object.assign(err, errorProps);\n      return [err, undefined];\n    });\n}\n","import Axios from 'axios';\nimport { API_URL } from '@constants/networking';\nimport {on} from '@utils/awaitHandler';\n\nlet instance = Axios.create({\n  baseURL: API_URL,\n});\n\nexport const axios = instance;\n\nexport const getResource = async ({\n  path,\n  loading,\n  error,\n  resource,\n  previousValue,\n  config,\n  skipUpdate\n}) => {\n  loading(true);\n  const [err, response] = await on(instance.get(path, config || {}));\n\n  const errorResponse = handleError({ err, error });\n  const resourceResponse = handleResourceUpdate({\n    previousValue,\n    err,\n    response,\n    resource,\n    skipUpdate\n  });\n\n  loading(false);\n\n  return [errorResponse, resourceResponse];\n};\n\nexport const getResourceAll = async ({calls, loading, error, resource, repeatCalls, previousValue, skipUpdate})=> {\n  \n  let requestList = [];\n  loading(true);\n\n  if(repeatCalls){\n    const request = calls[0];\n    for(let i = 0; i < repeatCalls; i++){\n      requestList.push(instance.get(request.path, request.config || {}))\n    }\n  } else {\n    calls.forEach(request => requestList.push(instance.get(request.path, request.config || {})))\n  }\n\n  const [err, res] = await on(Axios.all(requestList));\n\n  const errorResponse = handleError({ err, error });\n  const responseList = res.map(r => r.data.meals[0]);\n\n  if(!repeatCalls){\n    loading(false);\n    return [errorResponse, responseList]\n  }\n\n  const resourceResponse = handleResourceUpdate({\n    previousValue,\n    err,\n    response: {data: responseList},\n    resource,\n    skipUpdate\n  });\n\n  loading(false);\n\n  return [errorResponse, resourceResponse];\n}\n\nconst handleError = ({ err, error }) => {\n  const errorResponse = err?.response;\n  error(errorResponse);\n\n  return errorResponse;\n};\n\nconst handleResourceUpdate = ({\n  previousValue,\n  err,\n  response,\n  resource,\n  skipUpdate\n}) => {\n\n  const resourceResponse = err ? previousValue :  response?.data;\n  \n  resource(resourceResponse);\n\n  return resourceResponse;\n};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport function CardImage({src, alt}) {\n  return (\n    <div className='card-image'>\n      <img src={src} alt={alt} />\n    </div>\n  )\n}\n\nCardImage.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired\n};\n\nexport default CardImage;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport function CardBody({contentText, contentTitle, contentContainer: Container, children}) {\n  const CardBodyContainer = Container ? Container : DefaultContainer\n  return (\n    <CardBodyContainer>\n      <header>\n        {contentTitle}\n      </header>\n      <p>\n        {contentText}\n      </p>\n      { children }\n    </CardBodyContainer>\n  )\n}\n\nfunction DefaultContainer({children}){\n  return (\n    <section className={'card-body'}>\n      {children}\n    </section>\n  )\n};\n\nCardBody.propTypes = {\n  contentText: PropTypes.string,\n  contentTitle: PropTypes.string,\n  contentContainer: PropTypes.node,\n  children: PropTypes.node\n};\n\nexport default CardBody;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport function CardHeader({title, subtitle, children}) {\n  return (\n    <header className={'card-header'}>\n      <h4>\n        {title}\n        <span>{subtitle}</span>\n      </h4>\n      {children}\n    </header>\n  )\n}\n\nCardHeader.propTypes = {\n  title: PropTypes.string,\n  subtitle: PropTypes.string,\n  children: PropTypes.node\n}\n\nexport default CardHeader;\n","import React from 'react';\nimport PropTypes from 'prop-types'\nimport CardImage from './CardImage';\nimport CardBody from './CardBody';\nimport CardHeader from './CardHeader';\n\n\nexport function Card({image, header, body, children}) {\n  return (\n    <section className={'card'}>\n      {image ? (\n        <CardImage {...image} />\n      ) : null}\n      { header ? (\n        <CardHeader {...header} />\n      ) : null}\n      <CardBody {...body}>\n        {children}\n      </CardBody>\n    </section>\n  )\n}\n\nCard.propTypes = {\n  image: PropTypes.shape({\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired\n  }),\n  header: PropTypes.shape({\n    title: PropTypes.string,\n    subtitle: PropTypes.string\n  }),\n  body: PropTypes.shape({\n    contentText: PropTypes.string,\n    contentTitle: PropTypes.string,\n    contentContainer: PropTypes.node\n  })\n\n};\n\nexport default Card;\n","import React from \"react\";\nimport PropTypes from 'prop-types';\nimport Card from \"@core/Card\";\nimport CardHeader from \"@core/CardHeader\";\nimport CardImage from \"@core/CardImage\";\nimport \"../styles/RecipeCard.scss\";\n\nexport function RecipeCard({title, image}) {\n  return (\n    <div className=\"recipe-card\">\n      <Card>\n        <CardHeader title={title} />\n        <CardImage {...image} />\n      </Card>\n    </div>\n  )\n}\n\nRecipeCard.propTypes = {\n  image: PropTypes.shape({\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired\n  }).isRequired,\n  title: PropTypes.string.isRequired\n}\nexport default RecipeCard;\n","import React from 'react';\nimport PropTypes from 'prop-types'\nimport RecipeCard from './RecipeCard'\n\nexport function RecipeCardList({recipes = []}) {\n  return (\n    <div>\n      { recipes.map(recipe => {\n        const image = {\n          src: recipe.strMealThumb,\n          alt: recipe.strMeal\n        }\n        return <RecipeCard image={image} title={recipe.strMeal} key={recipe.idMeal} />\n      })}\n    </div>\n  )\n}\n\nRecipeCardList.propTypes = {\n  recipes: PropTypes.arrayOf(PropTypes.object)\n}\n\nexport default RecipeCardList;\n","import React from 'react';\nimport HomePageBanner from '@home/components/HomePageBanner';\nimport useGetRecipes from '@hooks/useGetRecipes';\nimport RecipeCardList from '@home/components/RecipeCardList';;\n\n\nexport function HomePage() {\n  const derp = useGetRecipes();\n  const {loading, error} = derp\n\n  return (\n    <main className=\"home-page\">\n      <HomePageBanner />\n      <div>\n        {error ? (\n          <h2>There was an error loading the data</h2>\n        ) : null }\n      </div>\n      { loading ? (\n          <h2>Loading...</h2>\n        ) : (\n          <RecipeCardList recipes={derp.resources} />\n        )\n      }\n    </main>\n  )\n}\n\nexport default HomePage;\n","import {useState, useEffect} from 'react';\nimport {getResourceAll} from '@services/httpService';\nimport { paths, urls } from '@constants/networking';\n\nexport default function useGetRecipes() {\n  const [loading, setLoading] = useState(true);\n  const [resources, setResources] = useState([]);\n  const [error, setError] = useState(undefined);\n\n  useEffect(()=> {\n    const getRecipes = async ()=> {\n      return await getResourceAll({\n        calls: [{ path:  paths(urls.API.RANDOM_RECIPE)}],\n        repeatCalls: 5,\n        previousValue: resources,\n        error: setError,\n        loading: setLoading,\n        resource: setResources\n      })\n    }\n\n    const fetchRecipes = async ()=> {\n      await getRecipes();\n    }\n\n    fetchRecipes()\n  }, [])\n\n  return {\n    loading,\n    resources,\n    error,\n    setResources,\n    setError,\n    setLoading\n  };\n}","import './App.scss';\nimport {Router} from '@reach/router';\nimport HomePage from '@home/containers/HomePage';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <HomePage path={'/'} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}